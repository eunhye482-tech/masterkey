<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‹¨ì–´ í•™ìŠµ ëª¨ë“œ</title>
    <style>
        :root { --main-blue: #4A90E2; --bg-gray: #f5f7f9; }
        body { font-family: 'Pretendard', sans-serif; background: var(--bg-gray); text-align: center; padding: 40px 20px; margin: 0; }
        .quiz-container { background: white; max-width: 450px; margin: 0 auto; padding: 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); }
        #info { color: #888; font-size: 14px; margin-bottom: 10px; }
        #koreanQ { font-size: 32px; font-weight: bold; color: #333; margin: 20px 0; }
        input { width: 80%; padding: 15px; font-size: 18px; border: 2px solid #ddd; border-radius: 12px; outline: none; transition: 0.3s; text-align: center; }
        input:focus { border-color: var(--main-blue); }
        .btn-group { margin-top: 25px; display: flex; gap: 10px; justify-content: center; }
        button { padding: 12px 25px; font-size: 16px; font-weight: bold; border: none; border-radius: 10px; cursor: pointer; transition: 0.2s; }
        .check-btn { background: var(--main-blue); color: white; flex: 2; }
        .next-btn { background: #eee; color: #555; flex: 1; }
        button:active { transform: scale(0.98); }
        #resultMsg { margin-top: 20px; font-size: 18px; font-weight: bold; min-height: 24px; }
    </style>
</head>
<body>

    <div class="quiz-container">
        <div id="info">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
        <div id="koreanQ">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”</div>
        
        <input type="text" id="answerInput" placeholder="ì˜ì–´ ë‹¨ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”" autocomplete="off">
        
        <div class="btn-group">
            <button class="check-btn" onclick="checkAnswer()">í™•ì¸ (Enter)</button>
            <button class="next-btn" id="nextBtn" onclick="nextWord()" disabled>ë‹¤ìŒ</button>
        </div>

        <div id="resultMsg"></div>
    </div>

    <script>
        let words = [];
        let currentIdx = 0;

        // 1. ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° (ì—°ìŠµìš© JSON íŒŒì¼ëª… í™•ì¸ í•„ìˆ˜!)
        fetch('practice.json')
            .then(res => {
                if (!res.ok) throw new Error('íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return res.json();
            })
            .then(data => {
                words = data;
                show(); // ë°ì´í„° ë¡œë“œ ì„±ê³µ ì‹œ ì²« ë‹¨ì–´ ì¶œë ¥
            })
            .catch(err => {
                document.getElementById('koreanQ').innerText = "ì˜¤ë¥˜ ë°œìƒ";
                document.getElementById('resultMsg').innerText = err.message;
            });

        // 2. ë‹¨ì–´ ë³´ì—¬ì£¼ê¸°
        function show() {
            if (currentIdx < words.length) {
                const item = words[currentIdx];
                // JSON í‚¤ê°’ì´ 'Korean'ì¸ì§€ 'Korean (Cì—´)'ì¸ì§€ì— ë”°ë¼ ìë™ ëŒ€ì‘
                const qText = item.Korean || item["Korean (Cì—´)"];
                const listNo = item.List_No || item["List_No (Bì—´)"];
                
                document.getElementById('info').innerText = `Level 1 - List ${listNo} (${currentIdx + 1}/${words.length})`;
                document.getElementById('koreanQ').innerText = qText;
                document.getElementById('answerInput').value = "";
                document.getElementById('resultMsg').innerText = "";
                document.getElementById('nextBtn').disabled = true;
                document.getElementById('answerInput').focus();
            } else {
                finish();
            }
        }

        // 3. ì±„ì í•˜ê¸°
        function checkAnswer() {
            const userInput = document.getElementById('answerInput').value.toLowerCase().trim();
            const item = words[currentIdx];
            const correctAnswer = (item.English || item["English (Dì—´)"]).toLowerCase().trim();

            const msgArea = document.getElementById('resultMsg');
            if (userInput === correctAnswer) {
                msgArea.innerText = "â­• ì •ë‹µì…ë‹ˆë‹¤! Perfect!";
                msgArea.style.color = "#2ECC71";
                document.getElementById('nextBtn').disabled = false;
            } else {
                msgArea.innerText = `âŒ ë‹¤ì‹œ í•´ë³´ì„¸ìš”! (ì •ë‹µ: ${correctAnswer})`;
                msgArea.style.color = "#E74C3C";
            }
        }

        // 4. ë‹¤ìŒ ë‹¨ì–´
        function nextWord() {
            currentIdx++;
            show();
        }

        // 5. í•™ìŠµ ì¢…ë£Œ
        function finish() {
            document.querySelector('.quiz-container').innerHTML = `
                <h2>ğŸ‰ í•™ìŠµ ì™„ë£Œ!</h2>
                <p>ì˜¤ëŠ˜ì˜ 5ë‹¨ì–´ë¥¼ ëª¨ë‘ ë§ˆì³¤ìŠµë‹ˆë‹¤.</p>
                <button onclick="location.href='index.html'" style="background:var(--main-blue); color:white; border:none; padding:15px 30px; border-radius:10px; cursor:pointer;">ì²« í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
            `;
        }

        // ì—”í„°í‚¤ ì§€ì›
        document.getElementById('answerInput').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                if (document.getElementById('nextBtn').disabled === false) {
                    nextWord();
                } else {
                    checkAnswer();
                }
            }
        });
    </script>
</body>
</html>